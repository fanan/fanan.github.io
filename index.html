<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>首页</title>
  
    <meta name="author" content="An Fan">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/twitter/stylesheets/bootstrap.min.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/stylesheets/style.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/widgets/google_prettify/stylesheets/twitter-bootstrap.css" type="text/css" rel="stylesheet" media="all">
 

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  <!--<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>-->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">One and Only</a>
          <ul class="nav">
            
              


  <li><a href="/archive">Archive</a></li>


            
              


  <li><a href="/tags">Tags</a></li>


            
              


  <li><a href="/categories">Categories</a></li>


            
              


  <li><a href="/pages">Pages</a></li>


            
              


  <li><a href="/about">About Me</a></li>


            
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>首页 </h1>
</div>

<div class="row">
  <div class="span12">
    
<h2>最近更新</h2>


<div class="post">
  <h3 class="title"><a href="/go/beego%231/">beego#1</a> <span class="date">2013-05-31</span></h3>

  <h1><a style="display: block;" name="beego-write\_error" href="#beego-write\_error"></a>beego write_error</h1>

<p>在tornado中，controller有一个<code>write\_error</code>的方法，可以重置http code，并且写http body。beego默认提供的Abort只能自定义输出模板，并且返回值不是所需要的code。</p>

<p>下面代码实现了类似功能</p>

<pre><code class="golang">type BaseController struct {
    beego.Controller
}

func (self *BaseController) WriteError(errCode int, errMsg string)  {
    self.Ctx.Abort(errCode, errMsg)
    beego.Error(errMsg)
}
</code></pre>


  <div class="more">
    <a href="/go/beego%231/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/default/svn-tip-1/">svn tip 1</a> <span class="date">2013-05-07</span></h3>

  <p><code>svn add</code>有时候会误添加一些无用的文件，在<code>svn ci</code>之前，可以通过<code>svn revert</code>来回滚。</p>

<p>设置<code>svn:ignore</code>属性的时候可以用下面的命令递归的设置，其中<code>ignore_patterns.txt</code>文件配置相关信息。</p>

<pre><code class="bash">svn propset -R svn:ignore -F ./ignore_patterns.txt .
</code></pre>


  <div class="more">
    <a href="/default/svn-tip-1/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/Diary/Hello/">Hello</a> <span class="date">2013-04-29</span></h3>

  <p>开始使用<code>Gor</code>来渲染<code>markdown</code>文件。</p>


  <div class="more">
    <a href="/Diary/Hello/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/go/go-lang-test/">go-lang-test</a> <span class="date">2013-04-29</span></h3>

  <h1>golang-snippet iconv</h1>

<p>To use <code>libiconv</code>, we could use the <code>mahonia</code> package from <a href="https://code.google.com/p/mahonia">https://code.google.com/p/mahonia</a>.</p>

<h2><a style="display: block;" name="install" href="#install"></a>install</h2>

<pre><code>go get -u code.google.com/p/mahonia
</code></pre>

<h2><a style="display: block;" name="example" href="#example"></a>example</h2>

<p>go
package main</p>

<p>import (
    &ldquo;bufio&rdquo;
    &ldquo;fmt&rdquo;
    &ldquo;io&rdquo;
    &ldquo;log&rdquo;
    &ldquo;mahonia&rdquo;
    &ldquo;os&rdquo;
)</p>


  <div class="more">
    <a href="/go/go-lang-test/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/default/vim-delete-lines/">vim delete lines</a> <span class="date">2013-04-23</span></h3>

  <p>在<code>vim</code>中，删除某些特定pattern的行十分简单：</p>

<pre><code>:g/regexp/d
</code></pre>

<p>类似的可以保留包含特定pattern的行</p>

<pre><code>:v/regexp/d
</code></pre>


  <div class="more">
    <a href="/default/vim-delete-lines/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/default/launchctl%E4%BD%BF%E7%94%A8/">launchctl使用</a> <span class="date">2013-02-28</span></h3>

  <p><code>launchctl</code>是Mac OS X中用来控制守护进程的一个工具。配合plist，可以达到启动、停止某服务的作用。</p>

<p>假设有一个com.example.foobar.plist文件，启动</p>

<pre><code class="bash">launchctl load com.example.foobar.plist
launchctl unload com.example.foobar.plist
</code></pre>

<p>比较遗憾的是没有reload功能。更加简单的理解就是linux下面的/etc/init.d/下面的内容。</p>


  <div class="more">
    <a href="/default/launchctl%E4%BD%BF%E7%94%A8/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/default/yum-tips/">yum tips</a> <span class="date">2013-02-18</span></h3>

  <p>As we all know, Redhat Linux and its variants (CentOS, Fedora) use <code>yum</code> as their default package manager. However, we cannot list the content of one rpm package only with the <code>yum</code> command.</p>

<p>One approach to solve the problem is download the rpm file and use</p>

<pre><code class="bash">rpm -qlp rpm-file-name
</code></pre>

<p>The disadvantage and inconveniece is obvious.</p>

<p>The best way is</p>

<pre><code class="bash">yum install yum-utils
repoquery -lq package-name
</code></pre>


  <div class="more">
    <a href="/default/yum-tips/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/default/Data-mining-with-R-notes--1/">Data mining with R notes: 1</a> <span class="date">2012-12-27</span></h3>

  <h2><a style="display: block;" name="introduction" href="#introduction"></a>Introduction</h2>

<p>I am now reading <code>Data Mining With R</code>, and I am taking notes. The original plot-system of the book is <a href="http://lattice.r-forge.r-project.org">lattice</a>. However, I am going to replace it with <a href="http://ggplot2.org">ggplot2</a>.</p>

<h2><a style="display: block;" name="predicting-algae-blooms" href="#predicting-algae-blooms"></a>Predicting Algae Blooms</h2>

<p>It is a classic prediction problem. 200 training data are given.</p>

<h3>Loading Data</h3>

<pre><code class="r">library(ggplot2)
library(DMwR)
head(algae)
</code></pre>

<p>the results are shown below</p>

<pre><code class="r">season  size  speed mxPH mnO2     Cl    NO3     NH4    oPO4     PO4 Chla   a1   a2   a3  a4   a5   a6  a7
1 winter small medium 8.00  9.8 60.800  6.238 578.000 105.000 170.000 50.0  0.0  0.0  0.0 0.0 34.2  8.3 0.0
2 spring small medium 8.35  8.0 57.750  1.288 370.000 428.750 558.750  1.3  1.4  7.6  4.8 1.9  6.7  0.0 2.1
3 autumn small medium 8.10 11.4 40.020  5.330 346.667 125.667 187.057 15.6  3.3 53.6  1.9 0.0  0.0  0.0 9.7
4 spring small medium 8.07  4.8 77.364  2.302  98.182  61.182 138.700  1.4  3.1 41.0 18.9 0.0  1.4  0.0 1.4
5 autumn small medium 8.06  9.0 55.350 10.416 233.700  58.222  97.580 10.5  9.2  2.9  7.5 0.0  7.5  4.1 1.0
6 winter small   high 8.25 13.1 65.750  9.248 430.000  18.250  56.667 28.4 15.1 14.6  1.4 0.0 22.5 12.6 2.9
</code></pre>


  <div class="more">
    <a href="/default/Data-mining-with-R-notes--1/" class="btn">read more..</a>
  </div>
</div>

<div class="post">
  <h3 class="title"><a href="/default/R-plot-1/">R plot 1</a> <span class="date">2012-12-14</span></h3>

  <p>绘图功能是<code>R</code>的杀手锏。和一些<strong><em>下拉框</em></strong>式的统计软件不同，R的绘图需要自己动手。</p>

<p>网络上关于R的绘图的文章已有成千上万，在此将自己日常工作要用到的一些绘图功能做一记录。</p>

<p>首先是最简单的在<code>quartz</code>或者<code>X11</code>下作图。</p>

<pre><code class="r">x &lt;- c(1:10, 10:1)
plot(x, type = &quot;p&quot;)
</code></pre>

<p>将图保存到pdf文件中。（保存为jpeg、png等格式的方法类似）</p>

<pre><code class="r">pdf(&quot;pdf_filename.pdf&quot;)
x &lt;- c(1:10, 10:1)
plot(x, type = &quot;n&quot;)
lines(1:length(x), x)
dev.off()
</code></pre>


  <div class="more">
    <a href="/default/R-plot-1/" class="btn">read more..</a>
  </div>
</div>


  </div>
</div>

      </div>

      <footer>
        <p>&copy; An Fan 2013 
          with help from <a href="http://github.com/wendal/gor" target="_blank" title="Gor -- Fast Blog">Gor</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
		  and Idea from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>

    
<script>
    var _gaq=[['_setAccount','UA-123-12'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
  </body>
</html>
